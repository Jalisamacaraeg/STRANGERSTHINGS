{"version":3,"sources":["api/index.js","components/App.js","components/AccountForm.js","components/Posts.js","components/Post.js","components/NavBar.js","components/Loading.js","components/CreatePost.js","components/Dashboard.js","components/Reply.js","index.js"],"names":["callApi","a","url","method","token","body","options","toUpperCase","headers","JSON","stringify","fetch","BASE_URL","response","json","data","error","window","alert","fetchUserData","fetchPosts","posts","App","useState","setToken","userData","setUserData","setPosts","useEffect","localStorage","getItem","username","style","width","exact","path","className","action","AccountForm","setUsername","password","setPassword","isLogin","title","oppositeTitle","oppositeAction","history","useHistory","handleSubmit","event","preventDefault","user","setItem","push","onSubmit","type","placeholder","required","onChange","target","value","Button","variant","display","alignItems","marginTop","margin","backgroundColor","color","to","Posts","searchTerm","updateSearchTerm","postsToDisplay","length","filter","post","searchTermLower","toLowerCase","description","location","author","includes","postMatches","padding","marginBottom","outline","autoFocus","map","borderTop","onClick","_id","Post","postId","useParams","find","price","willDeliver","useStyles","makeStyles","toolbar","justifyContent","background","NavBar","classes","Toolbar","clear","Loading","id","CreatePost","setTitle","setDescription","setPrice","setLocation","deliver","setDeliver","success","htmlFor","marginLeft","Dashboard","myMessages","messages","handleUpdate","handleDelete","handleReply","createdAt","marginRight","message","fromUser","content","Reply","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.a77b0d90.chunk.js","sourcesContent":["\nexport const BASE_URL = 'https://strangers-things.herokuapp.com/api/';\nexport const COHORT_NAME = '2010-USD-RM-WEB-PT';\nexport const API_URL = BASE_URL + COHORT_NAME;\n\nexport const callApi = async ({ url, method, token, body }) => {\n//console.log('callApi: ', { url, method, token, body });\n\n    try {\n        const options = {\n            method: method ? method.toUpperCase() : 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(body),\n        };\n\n        if (token) {\n            options.headers['Authorization'] = `Bearer ${token}`;\n        }\n\n        //console.log('request url: ', API_URL + url);\n        //console.log('options: ', options);\n        \n        const response = await fetch(API_URL + url, options);\n        const data = await response.json();\n        //console.log('data: ', data);\n        \n        if (data.error) throw data.error;\n        return data;\n        \n    } catch (error) {\n        window.alert('ERROR: ', error);\n    }\n};","\nimport React, { useState, useEffect } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport { AccountForm, Posts, Post, CreatePost, Dashboard, Reply} from \".\";\nimport { callApi } from \"../api\";\n\nimport { NavBar } from \".\";\nimport './specificStyles.css';\n\nconst fetchUserData = async (token) => {\n  const { data } = await callApi({\n    url: \"/users/me\",\n    token,\n  });\n  return data;\n};\n\nconst fetchPosts = async () => {\n  const {\n    data: { posts },\n  } = await callApi({\n    url: \"/posts\",\n  });\n  return posts;\n};\n\nconst App = () => {\n  const [token, setToken] = useState(\"\");\n  const [userData, setUserData] = useState({});\n  const [posts, setPosts] = useState([]);\n\n  useEffect(async () => {\n    const posts = await fetchPosts();\n    setPosts(posts);\n    if (!token) {\n      setToken(localStorage.getItem(\"token\"));\n      return;\n    }\n    const data = await fetchUserData(token);\n    if (data && data.username) {\n      setUserData(data);\n    }\n  }, [token]);\n\n  return (\n    <div style={{width: \"100vw\"}}>\n      <NavBar\n        userData={userData}\n        setToken={setToken}\n        setUserData={setUserData}        \n      />\n\n    <Switch>\n      <Route exact path=\"/\">\n        {userData.username && (\n          <>\n          <div className=\"helloUser\"><h3>Hello, {userData.username}!</h3></div>\n          </>\n        )}\n        <Posts posts={posts} /> {/* moved here to land on posts page */}\n      </Route>\n      \n        <Route path=\"/dashboard\">\n          <Dashboard           \n          token={token}\n          userData={userData}\n          />\n        </Route>\n\n        <Route path=\"/reply\">\n        <Reply token={token} />\n      </Route>\n\n      <Route  exact path=\"/posts/createpost\">\n        <CreatePost token={token} posts={posts} setPosts={setPosts} />\n      </Route>\n\n      <Route path=\"/posts/:postId\">\n        <Post posts={posts} />\n      </Route>\n\n      <Route path=\"/login\">\n        <AccountForm\n          action=\"login\"\n          setToken={setToken}\n          setUserData={setUserData}\n        />\n      </Route>\n\n      <Route path=\"/register\">\n        <AccountForm\n          action=\"register\"\n          setToken={setToken}\n          setUserData={setUserData}\n        />\n      </Route>\n\n      </Switch>\n    </div>\n  );\n};\n\nexport default App;","\nimport React, { useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { callApi } from \"../api\";\n\nimport { Button } from \"@material-ui/core\";\nimport \"./specificStyles.css\";\n\nconst AccountForm = ({ action, setToken, setUserData }) => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const isLogin = action === \"login\";\n  const title = isLogin ? \"Login\" : \"Register\";\n  const oppositeTitle = isLogin ? \"Register\" : \"Login\";\n  const oppositeAction = isLogin ? \"register\" : \"login\";\n  const history = useHistory();  // you need this in addtion to importing useHistory\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    const data = await callApi({\n      url: `/users/${action}`,\n      body: { user: { username, password } },\n      method: \"POST\",\n    });\n    const token = data?.data?.token;\n    // if there's data, tack on data prop. if data.data, tack on token prop\n\n    if (token) {\n      localStorage.setItem(\"token\", token);\n      setUsername(\"\");\n      setPassword(\"\");\n      setToken(token);\n      history.push(\"/\");\n    }\n  };\n  return (\n    <div className=\"form\">\n      <h2 className=\"formTitle\">{title}</h2>          \n      <form onSubmit={handleSubmit}>\n\n        <div>\n          <input\n            className=\"inputUsername\"\n            type=\"text\"\n            placeholder=\"username\"\n            required\n            onChange={(event) => setUsername(event.target.value)}\n          ></input>\n        </div>\n\n        <div>\n          <input\n            className=\"inputPassword\"\n            type=\"password\"\n            placeholder=\"password\"\n            onChange={(event) => setPassword(event.target.value)}\n          ></input>\n        </div>       \n\n        <div>\n          <Button\n            variant=\"contained\"\n            type=\"submit\"\n            style={{ display: \"flex\", alignItems: \"center\", marginTop: \"15px\", margin: \"auto\", backgroundColor: \"blue\", color: \"white\" }}\n          >\n            {title}\n          </Button>\n        </div>\n\n      </form>\n\n      <Link className=\"switchToLink\" to={`/${oppositeAction}`}>\n        {oppositeTitle}\n      </Link>\n      \n    </div>\n  );\n};\n\nexport default AccountForm;","\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport \"./specificStyles.css\";\n\nconst postMatches = (post, searchTerm) => {\n  const searchTermLower = searchTerm.toLowerCase();\n  const {\n    description,\n    location,\n    title,\n    author: { username },\n  } = post;\n\n  const toMatch = [description, location, title, username];\n  for (const field of toMatch) {\n    if (field.toLowerCase().includes(searchTermLower)) {\n      return true;\n    }\n  }\n};\n\nconst Posts = ({ posts }) => {\n  const history = useHistory();\n  const [searchTerm, updateSearchTerm] = useState(\"\");\n\n  const postsToDisplay =\n    searchTerm.length > 0\n      ? posts.filter((post) => postMatches(post, searchTerm))\n      : posts;\n\n  return (\n    <div className=\"postsBody\">        \n          <h2 className=\"postsHeading\">Posts</h2>\n          <input\n            type=\"text\"\n            placeholder=\"Search for posts\"\n            style={{ padding: \".25em\", marginBottom: \".25em\", outline: \"1px solid black\"}}\n            autoFocus=\"autoFocus\"\n            value={searchTerm}           \n            onChange={(event) => {\n              updateSearchTerm(event.target.value);\n            }}\n          />\n          \n      {postsToDisplay.length > 0 ? (\n        postsToDisplay.map((post) => (\n          <div\n            key={post._id}\n            style={{ borderTop: \"1px solid black\", padding: \".5em\" }}\n          >\n            <h5>{post.title}</h5>\n            <div>Posted by: {post.author.username}</div>\n            <div>Description: {post.description} </div>\n\n            <button\n              className=\"viewPostsButton\"\n              onClick={() => {\n                history.push(`/posts/${post._id}`);\n                // console.log(\"postID\", post._id)\n              }}\n            >\n              View Post\n            </button>\n          </div>\n        ))\n      ) : (\n        <h5> No posts to display</h5>\n      )}\n    </div>\n  );\n};\n\nexport default Posts;","\nimport React from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Loading } from './';\n\nimport './specificStyles.css';\n\nconst Post = ({ posts }) => {\n    const { postId } = useParams();\n    const post = posts.find((post) => postId === post._id);\n\n    // if (post === undefined) {\n    //     return <Loading />        \n    // }\n\n    return (\n        <div>\n        { post ? ( \n        <div className=\"singlePost\">\n            {/* {postId !== undefined && <Post posts={posts} />} */}\n            <h2>{post.title}</h2>\n            <div>Posted by: {post.author.username}</div>\n            <div>Description: {post.description} </div>\n            <div>Price: {post.price}</div>\n            <div>Location: {post.location}</div>\n            <div>Delivers: {post.willDeliver ? 'Yes' : 'No'}</div>            \n        </div>\n        ) : <Loading />\n        }\n        </div>\n    );\n};\n\nexport default Post;","\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport { Appbar, Toolbar, Typography, makeStyles } from \"@material-ui/core\";\nimport \"./specificStyles.css\";\n\nconst useStyles = makeStyles({\n  toolbar: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    background: \"silver\",\n    width: \"100vw\",\n  },\n});\n\nconst NavBar = ({ setToken, userData, setUserData }) => {\n\n  const logOut = () => {\n    localStorage.clear();\n    setUserData({});\n    setToken(\"\");\n  };\n\n  const classes = useStyles();\n  return (\n    <div>\n      <Toolbar className={classes.toolbar}>\n        \n        <div>\n          <Link className=\"siteName\" to=\"/\">\n            not Craig's List\n          </Link>\n        </div>\n\n        <div>\n          {userData._id ? (\n            <span>\n              <Link className=\"createPost\" to=\"/posts/createpost\">\n                Create a post\n              </Link>\n            </span>\n          ) : (\n            <> </>\n          )}\n        </div>\n\n        <div>\n          {userData._id ? (\n            <span>\n              <Link className=\"dashboard\" to=\"/dashboard\">\n                Dashboard\n              </Link>\n            </span>\n          ) : (\n            <> </>\n          )}\n        </div>\n\n        <div>\n          {userData._id ? (\n            <Link className=\"logOut\" to=\"/\" onClick={() => logOut()}>\n              Logout\n            </Link>\n          ) : (\n            <Link className=\"loginRegister\" to={\"/login\"}>\n              Login / Register\n            </Link>\n          )}\n        </div>\n\n      </Toolbar>\n    </div>\n  );\n};\nexport default NavBar;","\nimport React from 'react';\n\nconst Loading = () => {\n    return <div id=\"loading\">\n    <h2 className=\"message\">One moment...</h2>\n    </div>\n}\n\nexport default Loading;","\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { callApi } from \"../api\";\n\nimport { Button } from \"@material-ui/core\";\nimport \"./specificStyles.css\";\n\nconst CreatePost = ({ token }) => {\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  const [location, setLocation] = useState(\"\");\n  const [deliver, setDeliver] = useState(false);\n  const history = useHistory();  \n\n  const handleSubmit = async (event) => {\n    event.preventDefault();  \n    const data = await callApi({\n      url: `/posts`,\n      body: { post: { title, description, price, location, deliver } },\n      method: \"POST\",\n      token: token,\n    });\n\n    const postSuccess = data?.success;\n    if (postSuccess) {\n      window.alert(\"Post submitted!\")\n      history.push(\"/\"); // only shows created post after refresh because it's history pushing.\n    } else {\n      window.alert(\"Post wasn't successful\");\n    }\n    // console.log(\"data\", data)\n  }; \n\n  return (\n    <div className=\"createPostPage\">\n      <h2 className=\"createPostTitle\">Create Post</h2>\n      <form onSubmit={handleSubmit}>\n        <div>\n          <div className=\"titleText\" htmlFor=\"Title\">\n            Title:\n          </div>\n          <input\n            className=\"title\"\n            type=\"text\"            \n            required\n            onChange={(event) => setTitle(event.target.value)}\n          ></input>\n        </div>\n\n        <div>\n          <div className=\"descriptionText\" htmlFor=\"Description\">\n            Description:\n          </div>\n          <textarea\n            className=\"description\"\n            type=\"text\"           \n            required\n            onChange={(event) => setDescription(event.target.value)}\n          ></textarea>\n        </div>\n\n        <div>\n          <div className=\"priceText\" htmlFor=\"Price\">\n            Price:\n          </div>\n          <input\n            className=\"price\"\n            type=\"number\"\n            required\n            onChange={(event) => setPrice(event.target.value)}\n          ></input>\n        </div>\n\n        <div>\n          <div className=\"locationText\" htmlFor=\"Location\">\n            Location:\n          </div>\n          <input\n            className=\"location\"\n            type=\"text\"            \n            required\n            onChange={(event) => setLocation(event.target.value)}\n          ></input>\n        </div>\n\n        <div className=\"willDeliver\">\n          <div>\n            Will Deliver ?{\" \"}\n            <select\n              value={deliver}\n              onChange={(event) => {\n                setDeliver(event.target.value);\n              }}\n            >\n              <option value={true}> -- select an option -- </option>\n              <option value=\"Yes\">Yes</option>\n              <option value=\"No\">No</option>\n            </select>\n          </div>\n        </div>\n\n        <div>\n          <Button\n            type=\"submit\"\n            style={{\n              display: \"flex\",\n              marginTop: \"15px\",\n              marginLeft: \"15px\",\n              backgroundColor: \"blue\",\n              color: \"white\",\n            }}\n          >\n            Submit\n          </Button>\n        </div>\n        \n      </form>\n    </div>\n  );\n};\n\nexport default CreatePost;","\nimport React, { useState } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { callApi } from \"../api\";\n\nimport { Button } from \"@material-ui/core\";\nimport \"./specificStyles.css\";\n\nconst Dashboard = ({ token, post, userData }) => {\n  const myMessages = userData.messages;\n  const postsToDisplay = userData.posts;\n  const history = useHistory();\n  // console.log(\"dashboard\", myMessages);\n  // console.log(myMessages);\n\n  const handleUpdate = async (event) => {\n    event.preventDefault();\n    const data = await callApi({\n      url: `/posts/${post._id}`,\n      body: { post: { title, description, price, location, deliver } },\n      method: \"PATCH\",\n      token: token,\n    });\n  };\n\n  const handleDelete = async (event) => {\n    const data = await callApi({\n      url: `/posts`,\n      body: { post: { title, description, price, location, deliver } },\n      method: \"DELETE\",\n      token: token,\n    });\n  };\n\n  const handleReply = async (event) => {\n    const data = await callApi({\n      url: `/posts`,\n      body: { post: { title, description, price, location, deliver } },\n      method: \"POST\",\n      token: token,\n    });\n  };\n\n  return (\n    <div className=\"dashboardBody\">\n      <h3 className=\"userDashboardTitle\">{userData.username}'s Dashboard</h3>\n      <h2 className=\"postsHeading\">Posts</h2>\n\n      <div>\n        {postsToDisplay.map((post) => (\n          <div\n            key={post._id}\n            style={{ borderTop: \"1px solid black\", padding: \".5em\" }}\n          >\n            <h5>{post.title}</h5>\n            <div>Posted by : {post.author.username}</div>\n            <div>Description : {post.description}</div>\n            <div>Created at: {post.createdAt}</div>\n\n            <Button\n              variant=\"contained\"\n              type=\"submit\"\n              style={{\n                marginTop: \"10px\",\n                marginRight: \"15px\",\n                backgroundColor: \"blue\",\n                color: \"white\",\n              }}\n              onClick={() => handleUpdate()}\n            >\n              Update\n            </Button>\n\n            <Button\n              variant=\"contained\"\n              type=\"submit\"\n              style={{\n                marginTop: \"10px\",\n                marginRight: \"15px\",\n                backgroundColor: \"blue\",\n                color: \"white\",\n              }}\n              onClick={() => handleDelete()}\n              // history.push(`/reply/${message.post._id}`);              \n            >\n              DELETE\n            </Button>\n\n          </div>\n        ))}\n      </div>\n\n      <h2 className=\"messagesHeading\">Messages</h2>\n      {myMessages.map((message) => (\n        <div\n          key={message._id}\n          style={{ borderTop: \"1px solid black\", padding: \".5em\" }}\n        >\n          <h5>{message.fromUser.username}</h5>\n          <div>Message:{message.content}</div>\n          <div>Post: {message.post.title} </div>\n\n          <span>\n            <Button\n              variant=\"contained\"\n              type=\"submit\"\n              style={{\n                marginTop: \"10px\",\n                marginRight: \"15px\",\n                backgroundColor: \"blue\",\n                color: \"white\",\n              }}\n              onClick={() => handleReply()}\n              // history.push(`/reply/${message.post._id}`);\n            >\n              Reply\n            </Button>\n          </span>\n\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default Dashboard;","\nimport React, { useState } from \"react\";\nimport { callApi } from \"../api\";\n\nimport { Button } from \"@material-ui/core\";\nimport \"./specificStyles.css\";\n\nconst Reply = ({ token }) => {\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n\n  const handleReply = async (event) => {    \n    // const token = data?.data?.token;\n    // if there's data, tack on data prop. if data.data tack on token prop\n    const data = await callApi({\n      url: `/posts`,\n      body: { post: { title, description, price, location, deliver } },\n      method: \"POST\",\n      token: token,\n    });\n\n    const postSuccess = data?.success;\n    if (postSuccess) {\n      window.alert(\"Message sent!\");\n      history.push(\"/dashboard\");\n    } else {\n      window.alert(\"Message wasn't successful\");\n    }\n    // console.log(\"data\", data)\n  };\n\n  return (\n    <div className=\"messagesBody\">\n      <h2 className=\"messagesTitle\">Reply Message</h2>\n      <form onSubmit={handleReply}>\n\n        <div>\n          <div className=\"descriptionText\" htmlFor=\"Description\"></div>\n          <textarea\n            className=\"description\"\n            type=\"text\"\n            required\n            onChange={(event) => setDescription(event.target.value)}\n          ></textarea>\n        </div>\n\n        <div>\n          <Button\n            type=\"submit\"\n            style={{\n              display: \"flex\",\n              marginTop: \"15px\",\n              marginLeft: \"15px\",\n              backgroundColor: \"blue\",\n              color: \"white\",\n            }}\n          >\n            Reply\n          </Button>\n        </div>\n        \n      </form>\n    </div>\n  );\n};\n\nexport default Reply;","\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { App } from './components';\n\n\nReactDOM.render(\n    <Router>\n        <App />\n    </Router>,\n    document.querySelector('#app'),\n);"],"sourceRoot":""}